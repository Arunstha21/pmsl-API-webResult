(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7677:function(e,t,a){Promise.resolve().then(a.bind(a,2241))},2241:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var r=a(3827),o=a(4090);let c="https://tasty-clam-cloak.cyclic.app";function n(){let[e,t]=(0,o.useState)(""),a=()=>{setTimeout(()=>{t("")},6e3)};(0,o.useEffect)(()=>{n()},[]);let n=async()=>{try{let e=await fetch("".concat(c,"/gesData"),{method:"GET",headers:{"Content-Type":"application/json"}}),r=document.getElementById("event"),o=document.getElementById("stage"),n=document.getElementById("group"),d=document.getElementById("match");if(e.ok){let a;t("Data Retrieved !!");let{event:s,stage:i,group:p}=(await e.json()).gesData,h=[],b=[],y=[];h.push('<option value="" selected>Select Event</option>'),s.forEach(e=>{let t='<option value="'.concat(e._id,'">').concat(e.name,"</option>");h.push(t)}),r.innerHTML=h.join(""),i.forEach(e=>{let t='<option value="'.concat(e._id,'" name="').concat(e.event,'">').concat(e.name,"</option>");b.push(t)}),p.forEach(e=>{let t='<option value="'.concat(e._id,'" name="').concat(e.stage,'">').concat(e.name,"</option>");y.push(t)}),r.addEventListener("change",function(e){let t=e.target.value,a=b.filter(e=>e.includes('name="'.concat(t,'"')));a=['<option value="" selected>Select Stage</option>',...a],o.innerHTML=a.join("")}),o.addEventListener("change",function(e){let t=e.target.value,a=y.filter(e=>e.includes('name="'.concat(t,'"')));a=['<option value="" selected>Select Group</option>',...a],n.innerHTML=a.join("")}),n.addEventListener("change",async function(e){let t=e.target.value;try{let e=await fetch("".concat(c,"/gesData"),{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){let{matchData:r}=(await e.json()).gesData,o=(a=r.filter(e=>e.groupId===t)).map(e=>'<option value="'.concat(e.id,'">Match ').concat(e.matchNo,"</option>")),c=['<option value="" selected>Select Match</option>','<option value="Overall">Overall</option>',...o];d.innerHTML=c.join("")}}catch(e){}}),d.addEventListener("change",async function(e){let t=e.target.value;if("Overall"===t){let e=a.map(e=>e.id);try{let a=await fetch("".concat(c,"/overallResults"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({matchIds:e})});if(a.ok){let e=await a.json();l(e,"Overall"===t)}}catch(e){console.log("error")}}else try{let e=await fetch("".concat(c,"/perMatchResults"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({matchId:t})});if(e.ok){let t=await e.json();l(t)}}catch(e){console.log("error")}})}else console.error("Error:",e.status,e.statusText),t("Error: ".concat(e.status," ").concat(e.statusText));a()}catch(e){console.error("Error:",e.message),t("Error: ".concat(e.message)),a()}};function l(e,t){let a=document.querySelector("tbody");a.innerHTML="",e.result.forEach(e=>{let r=document.createElement("tr");t?r.innerHTML='\n                <td class="border border-gray-400 px-2 py-1">'.concat(e.cRank,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.team,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.tag,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.kill,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.damage,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.placePoint,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.totalPoint,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.wwcd,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.matchCount,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.lastMatchRank,"</td>\n            "):r.innerHTML='\n                <td class="border border-gray-400 px-2 py-1">'.concat(e.cRank,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.team,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.tag,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.kill,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.damage,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.placePoint,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.totalPoint,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.wwcd,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.match,'</td>\n                <td class="border border-gray-400 px-2 py-1">').concat(e.rank,"</td>\n            "),a.appendChild(r)})}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,r.jsxs)("div",{className:"flex flex-col ml-4",children:[(0,r.jsx)("label",{htmlFor:"event",children:"Event"}),(0,r.jsx)("select",{id:"event",className:"w-full p-3 mb-4 dark:text-black border rounded-md",children:(0,r.jsx)("option",{value:"",children:"Select Event"})})]}),(0,r.jsxs)("div",{className:"flex flex-col ml-4",children:[(0,r.jsx)("label",{htmlFor:"stage",children:"Stage"}),(0,r.jsx)("select",{id:"stage",className:"w-full p-3 mb-4 dark:text-black border rounded-md",children:(0,r.jsx)("option",{value:"",children:"Select Stage"})})]}),(0,r.jsxs)("div",{className:"flex flex-col ml-4",children:[(0,r.jsx)("label",{htmlFor:"group",children:"Group"}),(0,r.jsx)("select",{id:"group",className:"w-full p-3 mb-4 dark:text-black border rounded-md",children:(0,r.jsx)("option",{value:"",children:"Select Group"})})]}),(0,r.jsxs)("div",{className:"flex flex-col ml-4",children:[(0,r.jsx)("label",{htmlFor:"match",children:"Match"}),(0,r.jsx)("select",{id:"match",className:"w-full p-3 mb-4 dark:text-black border rounded-md",children:(0,r.jsx)("option",{value:"",children:"Select Match"})})]})]}),(0,r.jsx)("div",{className:"overflow-x-auto text-center",children:(0,r.jsxs)("table",{className:"table-auto border-collapse border border-gray-800 w-42 mx-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"Rank"}),(0,r.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"Team"}),(0,r.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"Tag"}),(0,r.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"Kills"}),(0,r.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"Damage"}),(0,r.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"Place Points"}),(0,r.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"Total Points"}),(0,r.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"WWCD"}),(0,r.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"Match"}),(0,r.jsx)("th",{className:"border border-gray-400 px-4 py-2",children:"Last Match Rank"})]})}),(0,r.jsx)("tbody",{})]})})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=7677)}),_N_E=e.O()}]);