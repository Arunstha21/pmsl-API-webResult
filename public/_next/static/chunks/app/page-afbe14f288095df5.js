(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7677:function(e,t,a){Promise.resolve().then(a.bind(a,828))},828:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var r=a(3827),d=a(4090);function l(){return(0,r.jsx)("main",{className:"flex items-center justify-center h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-white text-3xl font-semibold mb-4 animate-pulse",children:"Loading..."}),(0,r.jsx)("div",{className:"w-20 h-20 border-t-4 border-b-4 border-white rounded-full animate-spin"})]})})}let o="https://pubgm.rangotengo.co.in";function c(){let[e,t]=(0,d.useState)(!1),[a,c]=(0,d.useState)(""),n=()=>{setTimeout(()=>{c("")},6e3)};function s(e,t){let a;if(e.hasAttribute("data-title-listeners"))return;e.classList.remove("border","border-gray-300");let r=e.querySelector("div");r.classList.add("hidden");let d=e.querySelector("label"),l=d.textContent;d.textContent="".concat(l,": ").concat(t),e.addEventListener("mouseenter",function(t){clearTimeout(a),a=setTimeout(()=>{e.classList.add("border","border-gray-300"),r.classList.remove("hidden"),d.textContent=l},90)}),e.addEventListener("mouseleave",function(o){clearTimeout(a),a=setTimeout(()=>{e.classList.remove("border","border-gray-300"),r.classList.add("hidden"),d.textContent="".concat(l,": ").concat(t)},0)}),e.setAttribute("data-title-listeners","true")}(0,d.useEffect)(()=>{i()},[]);let i=async()=>{try{t(!0);let r=await fetch("".concat(o,"/api/gesData"),{method:"GET",headers:{"Content-Type":"application/json"}}),d=document.getElementById("event"),l=document.getElementById("stage"),i=document.getElementById("group"),h=document.getElementById("match"),u=document.getElementById("eventDiv"),k=document.getElementById("stageDiv"),y=document.getElementById("groupDiv"),p=document.getElementById("statsDiv"),g=document.getElementById("matchDiv"),v=document.getElementById("teamListDiv");function e(e){let t=[u,k,y,g,p,v],a=t.indexOf(e);-1!==a&&t.slice(a+1).forEach(e=>{e.classList.add("hidden")}),function(){let e=document.querySelector("tbody"),t=document.querySelector("thead");null!=e&&(t.innerHTML="",e.innerHTML="")}()}if(r.ok){c("Data Retrieved !!");let{event:n,stage:f,group:w}=(await r.json()).gesData,L=[],E=[],j=[];n.forEach(e=>{let t='<button class="hover:bg-gray-700 hover:text-white py-2 mx-1 px-4 text-nowrap rounded" value="'.concat(e._id,'">').concat(e.name,"</button>");L.push(t)}),t(!1),d.innerHTML=L.join(""),f.forEach(e=>{let t='<button class="hover:bg-gray-700 hover:text-white py-2 mx-1 px-4 text-nowrap rounded" value="'.concat(e._id,'" name="').concat(e.event,'">').concat(e.name,"</button>");E.push(t)}),w.forEach(e=>{let t='<button class="hover:bg-gray-700 hover:text-white py-2 mx-1 px-4 text-nowrap rounded" value="'.concat(e._id,'" name="').concat(e.stage,'">').concat(e.name,"</button>");j.push(t)}),d.addEventListener("click",function(t){d.querySelectorAll("button").forEach(e=>e.classList.remove("bg-gray-700","text-white"));let a=t.target,r=a.value,o=a.textContent;a.classList.add("bg-gray-700","text-white"),s(u,o),e(u),k.classList.remove("hidden");let c=E.filter(e=>e.includes('name="'.concat(r,'"')));l.innerHTML=c.join("")}),l.addEventListener("click",function(t){l.querySelectorAll("button").forEach(e=>e.classList.remove("bg-gray-700","text-white"));let r=t.target,d=r.value,o=r.textContent;r.classList.add("bg-gray-700","text-white"),s(k,o),e(k);let c=w.reduce((e,t)=>(t.stage===d&&(e[t._id]=t.matches),e),{}),n=Object.values(c).filter(e=>e.length>0).length;if(1===n){let e=Object.keys(c).find(e=>c[e].length>0);a(e)}else if(n>1){let e=Object.entries(c).filter(e=>{let[t,a]=e;return a.length>0}).map(e=>{let[t,a]=e;return t});if(e.length>0){let t=j.filter(t=>e.some(e=>t.includes('value="'.concat(e,'"'))));y.classList.remove("hidden"),i.innerHTML=t.join("")}}});let N=[];async function a(a){i.querySelectorAll("button").forEach(e=>e.classList.remove("bg-gray-700","text-white")),e(y);try{t(!0);let e=await fetch("".concat(o,"/api/gesData"),{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){let{matchData:r}=(await e.json()).gesData,d=(N=r.filter(e=>e.groupId===a)).map(e=>'<button class="hover:bg-gray-700 hover:text-white py-2 mx-1 px-4 text-nowrap rounded" value="'.concat(e.id,'">Match ').concat(e.matchNo,"</button>")),l=['<button class="hover:bg-gray-700 hover:text-white py-2 mx-1 px-4 rounded" value="Overall">Overall</button>',...d];g.classList.remove("hidden"),t(!1),h.innerHTML=l.join("")}}catch(e){console.log(e)}}i.addEventListener("click",async function(e){let t=e.target,r=t.value,d=t.textContent;a(r),s(y,d),t.classList.add("bg-gray-700","text-white")}),document.getElementById("mvpStats").addEventListener("click",async function(e){let a=N.map(e=>e.id);try{t(!0);let e=await fetch("".concat(o,"/api/topTenMvps"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({matchIds:a})});if(e.ok){let a=(await e.json()).playerResult;t(!1),m(a,!0)}}catch(e){console.log("error: ".concat(e))}}),h.addEventListener("click",async function(a){h.querySelectorAll("button").forEach(e=>e.classList.remove("bg-gray-700","text-white"));let r=a.target,d=r.value,l=r.textContent;if(e(g),s(g,l),r.classList.add("bg-gray-700","text-white"),p.classList.remove("hidden"),"Overall"===d){let e=N.map(e=>e.id);try{t(!0);let a=await fetch("".concat(o,"/api/overallResults"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({matchIds:e})});if(a.ok){let e=document.getElementById("stats"),r=document.getElementById("teamList"),l=await a.json(),o=l.result.playerResult,c=l.result.teamResult;t(!1),x(c,"Overall"===d),v.classList.add("hidden"),e.addEventListener("click",function(t){e.querySelectorAll("button").forEach(e=>e.classList.remove("bg-gray-700","text-white"));let a=t.target,r=a.value;a.classList.add("bg-gray-700","text-white"),"teamStats"===r?(x(c,"Overall"===d),v.classList.add("hidden")):"playerStats"===r&&(m(o,"Overall"===d),v.classList.remove("hidden"),b(c))}),r.addEventListener("change",function(e){let t=e.target.value,a=o.filter(e=>e.teamName===t);m(a,"Overall"===d)})}}catch(e){console.log("error: ".concat(e))}}else try{t(!0);let e=await fetch("".concat(o,"/api/perMatchResults"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({matchId:d})});if(e.ok){let a=document.getElementById("stats"),r=await e.json(),d=r.result.playerResult,l=r.result.teamResult,o=document.getElementById("teamListDiv");t(!1),x(l),o.classList.add("hidden"),a.addEventListener("click",function(e){a.querySelectorAll("button").forEach(e=>e.classList.remove("bg-gray-700","text-white"));let t=e.target,r=t.value;t.classList.add("bg-gray-700","text-white"),"teamStats"===r?(x(l),o.classList.add("hidden")):"playerStats"===r&&(m(d),document.getElementById("teamList"),o.classList.remove("hidden"),b(l))}),teamList.addEventListener("change",function(e){let t=e.target.value,a=d.filter(e=>e.teamName===t);m(a)})}}catch(e){console.log(e)}})}else console.error("Error:",r.status,r.statusText),c("Error: ".concat(r.status," ").concat(r.statusText));n()}catch(e){console.error("Error:",e.message),c("Error: ".concat(e.message)),n()}};function b(e){let t=['<option value="" selected>Select Match</option>',...e.map(e=>'<option value="'.concat(e.team,'">').concat(e.team,"</option>"))];teamList.innerHTML=t.join("")}function x(e,t){let a=document.querySelector("tbody"),r=document.querySelector("thead");null!==a&&(r.innerHTML="",a.innerHTML="");let d=document.createElement("tr");["Rank","Team","Tag","Kills","Damage","Place Points","Total Points","WWCD","Match","Last Match Rank"].forEach(e=>{let t=document.createElement("th");t.textContent=e,t.className="border border-black bg-amber-400 text-black px-4 py-2",d.appendChild(t)}),e.forEach(e=>{let l=document.createElement("tr");t?l.innerHTML='\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">'.concat(e.cRank,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.team,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.tag,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.kill,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.damage,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.placePoint,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.totalPoint,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.wwcd,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.matchCount,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.lastMatchRank,"</td>\n            "):l.innerHTML='\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">'.concat(e.cRank,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.team,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.tag,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.kill,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.damage,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.placePoint,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.totalPoint,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.wwcd,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.match,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.rank,"</td>\n            "),r.appendChild(d),a.appendChild(l)}),h()}function m(e,t){let a=document.querySelector("tbody"),r=document.querySelector("thead");null!==a&&(r.innerHTML="",a.innerHTML="");let d=document.createElement("tr");t?["Rank","Team Name","In Game Name","UID","Kills","Damage","Survival Time","Assists","Heal","Head Shot","MVP Rating","MP"].forEach(e=>{let t=document.createElement("th");t.textContent=e,t.className="border border-black bg-amber-400 text-black px-4 py-2",d.appendChild(t)}):["Rank","Team Name","In Game Name","UID","Kills","Damage","Survival Time","Assists","Heal","Head Shot"].forEach(e=>{let t=document.createElement("th");t.textContent=e,t.className="border border-black bg-amber-400 text-black px-4 py-2",d.appendChild(t)}),e.forEach(e=>{let l=document.createElement("tr");t?l.innerHTML='\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">'.concat(e.cRank,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.teamName,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.inGameName,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.uId,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.kill,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.damage,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.survivalTime,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.assist,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.heal,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.headshot,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.mvp,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.matchPlayed,"</td>\n            "):l.innerHTML='\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">'.concat(e.cRank,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.teamName,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.inGameName,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.uId,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.kill,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.damage,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.survivalTime,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.assist,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.heal,'</td>\n                <td class="border dark:border-gray-400 dark:text-white border-black text-black px-2 py-1">').concat(e.headshot,"</td>\n            "),r.appendChild(d),a.appendChild(l)}),h()}function h(){document.querySelectorAll("th").forEach((e,t)=>{e.addEventListener("click",()=>{!function(e,t){let a=document.querySelector("tbody"),r=Array.from(a.querySelectorAll("tr")),d=e.getAttribute("data-order")||"asc";r.sort((e,a)=>{let r=e.querySelectorAll("td")[t].textContent.trim(),l=a.querySelectorAll("td")[t].textContent.trim(),o=isNaN(r)||isNaN(l)?r.localeCompare(l):r-l;return"asc"===d?o:-o}),a.innerHTML="",r.forEach(e=>a.appendChild(e)),d="asc"===d?"desc":"asc",e.setAttribute("data-order",d)}(e,t)})})}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{id:"body",className:"flex flex-col",children:[(0,r.jsxs)("div",{id:"eventDiv",className:"flex flex-col p-2 mt-4 ml-8 border border-gray-300 rounded-lg",children:[(0,r.jsx)("label",{htmlFor:"event",className:"underline",children:"Event"}),(0,r.jsx)("div",{id:"event",className:"flex flex-row overflow-x-auto no-scrollbar"})]}),(0,r.jsxs)("div",{className:"flex flex-row overflow-auto mt-2",children:[(0,r.jsxs)("div",{id:"stageDiv",className:"flex flex-col p-2 ml-8 border border-gray-300 rounded-lg hidden",children:[(0,r.jsx)("label",{htmlFor:"stage",className:"underline",children:"Stage"}),(0,r.jsx)("div",{id:"stage",className:"flex flex-row overflow-x-auto no-scrollbar"})]}),(0,r.jsxs)("div",{id:"groupDiv",className:"flex flex-col p-2 ml-4 border border-gray-300 rounded-lg hidden",children:[(0,r.jsx)("label",{htmlFor:"group",className:"underline",children:"Group"}),(0,r.jsx)("div",{id:"group",className:"flex flex-row overflow-x-auto no-scrollbar"})]})]}),(0,r.jsxs)("div",{id:"matchDiv",className:"flex flex-col mt-2 p-2 ml-8 border border-gray-300 rounded-lg hidden",children:[(0,r.jsx)("label",{htmlFor:"match",className:"underline",children:"Match"}),(0,r.jsx)("div",{id:"match",className:"flex flex-row overflow-x-auto no-scrollbar"})]}),(0,r.jsxs)("div",{className:"flex flex-row overflow-auto mt-2",children:[(0,r.jsxs)("div",{id:"statsDiv",className:"flex flex-col p-2 ml-8 border border-gray-300 rounded-lg hidden",children:[(0,r.jsx)("label",{htmlFor:"stats",className:"underline",children:"Stats"}),(0,r.jsxs)("div",{id:"stats",className:"flex flex-row overflow-x-auto no-scrollbar",children:[(0,r.jsx)("button",{value:"teamStats",className:"hover:bg-gray-700 hover:text-white bg-gray-700 text-white mx-1 py-2 px-4 rounded",children:"Team Stats"}),(0,r.jsx)("button",{value:"playerStats",className:"hover:bg-gray-700 hover:text-white py-2 mx-1 px-4 rounded",children:"Player Stats"}),(0,r.jsx)("button",{id:"mvpStats",value:"mvpStats",className:"hover:bg-gray-700 hover:text-white py-2 mx-1 px-4 rounded",children:"Top 10 MVP Stats"})]})]}),(0,r.jsxs)("div",{id:"teamListDiv",className:"flex flex-col p-2 ml-8 border border-gray-300 rounded-lg hidden",children:[(0,r.jsx)("label",{htmlFor:"teamList",children:"Team List"}),(0,r.jsx)("select",{id:"teamList",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:(0,r.jsx)("option",{value:"",children:"Select Team"})})]})]})]}),(0,r.jsx)("h5",{className:"mt-4",children:a}),e?(0,r.jsx)(l,{}):(0,r.jsx)("div",{}),(0,r.jsx)("div",{className:"overflow-auto text-center",children:(0,r.jsx)("div",{className:" p-3 py-8",children:(0,r.jsxs)("table",{className:"table-auto dark:bg-black bg-white border-collapse border border-black w-42 mx-auto",children:[(0,r.jsx)("thead",{}),(0,r.jsx)("tbody",{})]})})})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=7677)}),_N_E=e.O()}]);